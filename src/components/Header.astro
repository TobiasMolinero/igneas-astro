---
import logo from '/public/images/logo-igneas-sinfondo.png';
---

<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
        const btn_close_menu = document.getElementById('btnCloseMenu');
        const btn_open_menu = document.getElementById('btnOpenMenu');
        const header = document.getElementById('header');
        const nav_responsive = document.getElementById('navResponsive');
        const menu_item = document.querySelectorAll('.close-nav');
        const item_blog = document.getElementById('item-blog');
        const dropdown_blog = document.querySelector('.nav-res_dropdown-blog');
        const icon_dropdown = document.getElementById('iconDropdown');
    
        let openMenu = false;
        let showDropdownBlog = false;
    
        const openCloseMenu = () => {
            if(openMenu){
                nav_responsive.style.transform = 'translateY(-1500px)';
                nav_responsive.style.opacity = '0';
                openMenu = false;
            } else {
                nav_responsive.style.transform = 'translateY(0)';
                nav_responsive.style.opacity = '1';
                openMenu = true;
            }
        }

        const openCloseDropBlog = () => {
            if(showDropdownBlog){
                dropdown_blog.style.display = 'none';
                icon_dropdown.style.transform = 'rotate(-90deg)';
                showDropdownBlog = false;
            } else {
                dropdown_blog.style.display = 'flex';
                dropdown_blog.style.flexDirection = 'column';
                dropdown_blog.style.gap = '10px';
                icon_dropdown.style.transform = 'rotate(0deg)';
                showDropdownBlog = true;
            }
        }
    
        btn_close_menu.addEventListener('click', ()=> {
            if(showDropdownBlog){
                openCloseDropBlog();
            }
            openCloseMenu();
        });
        btn_open_menu.addEventListener('click', openCloseMenu);
        menu_item.forEach(item => {
            item.addEventListener('click', openCloseMenu);
        })
    
        item_blog.addEventListener('click', openCloseDropBlog);

        if(window.scrollY > 0){
            header.classList.add('header-sticked');
        }

        window.addEventListener("scroll", function() {
            // Obtener la posición actual del scroll
            var scrollPosition = window.scrollY || document.documentElement.scrollTop;
            // Agregar o quitar las clases según la posición del scroll
            if (scrollPosition > 80) {
                header.classList.add('header-sticked');
            } else {
                header.classList.remove('header-sticked');
            }
        });


    })
</script>

<header id="header" class='header'>
    <div class="logo">
        <img class="logo-img" src={logo.src} alt="logo de cooperativa IGNEAS">
    </div>

    <nav class="nav">
        <ul class="nav-menu">
            <li class="menu_item">
                <a href="/" class="menu_item-link">Inicio</a>
            </li>
            <li class="menu_item">
                <a href="/nosotros" class="menu_item-link">Nosotros</a>
            </li>
            <li class="menu_item item-blog">
                <p class="menu_item-link">
                    Novedades
                    <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="currentColor" class="icon-dropdown" viewBox="0 0 16 16">
                        <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                    </svg>
                </p>
                <div class="container-dropdown-blog">
                    <div class="dropdown-blog">
                        <p>
                            <a href="/blog">Blog</a>
                        </p>
                        <p>
                            <a href="">Eventos</a>
                        </p>
                        <p>
                            <a href="">Revista</a>
                        </p>
                    </div>
                </div>
            </li>
            <li class="menu_item">
                <a href="" class="menu_item-link">Galería</a>
            </li>
            <!-- <li class="menu_item">
                <a href="" class="menu_item-link">Tienda</a>
            </li> -->
        </ul>
    </nav>

    <nav id="navResponsive" class="nav-responsive">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" id="btnCloseMenu" class="icon-close" viewBox="0 0 16 16">
            <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
        </svg>
        <ul class="nav-res_menu">
            <li class="menu-res_item">
                <a href="" class="menu-res_item-link close-nav">Inicio</a>
            </li>
            <li class="menu-res_item">
                <a href="/nosotros" class="menu-res_item-link close-nav">Nosotros</a>
            </li>
            <li id="item-blog" class="menu-res_item res-item-blog">
                <p class="menu-res_item-link">
                    Novedades
                    <svg id="iconDropdown" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                    </svg>
                </p>
                <div class="nav-res_dropdown-blog">
                    <p>
                        <a href="/blog">Blog</a>
                    </p>
                    <p>
                        <a href="">Eventos</a>
                    </p>
                    <p>
                        <a href="">Revista</a>
                    </p>
                </div>
            </li>
            <li class="menu-res_item close-nav">
                <a href="" class="menu-res_item-link">Galería</a>
            </li>
            <!-- <li class="menu-res_item">
                <a href="" class="menu-res_item-link">Tienda</a>
            </li> -->
            <li class="menu-res_item">
                <button class="menu-res_item-login">Iniciar Sesión</button>
            </li>
        </ul>
    </nav>

    <div class="dropdown-menu">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" id="btnOpenMenu" class="icon-hamburguer" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
        </svg>
    </div>


    <div class="login-zone">
        <button class="btn-login">Iniciar Sesión</button>
    </div>
</header>

<style>
    .header{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        padding: 10px 20px;
        background: transparent;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 10;
        transition: 0.3s;
    }

    .header-sticked{
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 10;
        background: var(--azul);
        box-shadow: 0 0 10px #000000;
        transition: 0.3s;
    }

    .logo{
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .logo-img{
        width: 100px;
    }

    .icon-dropdown{
            transform: rotate(-90deg);
            transition: 0.3s transform;
    }

    /* SMARTPHONE */
    @media screen and (min-width: 375px) and (max-width: 767px){

        .nav{
            display: none;
        }

        .login-zone{
            display: none;
        }

        .nav-responsive{
            position: fixed;
            top: 0;
            left: 0;
            transform: translateY(-1500px);
            width: 100vw;
            height: 100vh;
            background:linear-gradient(
                to bottom,
                var(--magenta),
                var(--naranja),
                var(--amarillo)
            );
            display: flex;
            flex-direction: column;
            transition: 0.3s transform, 0.3s opacity;
        }

        .icon-close{
            width: 50px;
            margin: 30px 20px 0 0;
            color: var(--azul);
            align-self: end;
        }

        .nav-res_menu{
            margin: 20px 0 0 0;
            list-style-type: none;
            font-size: 1.4rem;
            display: flex;
            flex-direction: column;
        }

        .menu-res_item{
            width: 100%;
            display: flex;
            justify-content: center;
        }

        .menu-res_item-link{
            text-decoration: none;
            color: var(--azul);
            text-align: center;
            width: 100%;
            padding: 10px 0; 
        }
    
        .res-item-blog{
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .nav-res_dropdown-blog{
            display: none;
            animation: show_dropdown_blog_mobile 0.3s;
        }

        .nav-res_dropdown-blog > p{
            font-size: 20px;
        }

        .nav-res_dropdown-blog > p a{
            color: var(--azul);
            text-decoration: none;
        }

        .menu-res_item-login{
            font-size: 16px;
            font-weight: 500;
            color: #fffff0;
            border: none;
            border-radius: 10px;
            background: var(--azul);
            padding: 10px 20px;
            margin: 10px 0;
        }
    
        .icon-hamburguer{
            width: 50px;
            color: #fff;
        }
    }

    /* TABLETS */
    @media screen and (min-width: 768px) and (max-width: 1023px){

        .nav, .login-zone{
            display: none;
        }

        .nav-responsive{
            position: fixed;
            top: 0;
            left: 0;
            transform: translateY(-1500px);
            width: 100vw;
            height: 100vh;
            background:linear-gradient(
                to bottom,
                var(--magenta),
                var(--naranja),
                var(--amarillo)
            );
            display: flex;
            flex-direction: column;
            transition: 0.3s transform, 0.3s opacity;
        }

        .icon-close{
            width: 50px;
            margin: 30px 20px 0 0;
            color: var(--azul);
            align-self: end;
        }

        .nav-res_menu{
            margin: 20px 0 0 0;
            list-style-type: none;
            font-size: 1.4rem;
            display: flex;
            flex-direction: column;
        }

        .menu-res_item{
            width: 100%;
            display: flex;
            justify-content: center;
        }

        .menu-res_item-link{
            text-decoration: none;
            color: var(--azul);
            text-align: center;
            width: 100%;
            padding: 10px 0; 
        }

        .res-item-blog{
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .nav-res_dropdown-blog{
            display: none;
            animation: show_dropdown_blog_mobile 0.3s;
        }

        .nav-res_dropdown-blog > p{
            font-size: 20px;
        }

        .nav-res_dropdown-blog > p a{
            color: var(--azul);
            text-decoration: none;
        }

        .menu-res_item-login{
            font-size: 1.4rem;
            color: #fffff0;
            border: none;
            border-radius: 10px;
            background: var(--azul);
            padding: 10px 20px;
            margin: 10px 0;
        }
    
        .icon-hamburguer{
            width: 50px;
            color: #fff;
        }
    }

    /* DESKTOP */
    @media screen and (min-width: 1024px){
        .icon-hamburguer, .icon-close, .nav-responsive{
            display: none;
        }

        .nav{
            flex: 1;
            display: flex;
            justify-content: start;
            padding: 0 80px;
        }

        .nav-menu{
            list-style: none;
            display: flex;
            gap: 30px;
        }

        .menu_item{
            position: relative;
        }
        
        .menu_item-link{
            text-decoration: none;
            color: #fffff0;
            font-weight: 500;
            transition: 0.3s color;
        }
        .menu_item-link:hover{
            color: var(--naranja);
            text-shadow: 0 0 5px var(--naranja);
        }

        .container-dropdown-blog{
            display: none;
            position: absolute;
            top: 20px;
            left: -100px;
            padding-top: 20px;
            animation: show_dropdown_blog 0.3s;
        }

        .dropdown-blog{
            border-radius: 10px;
            background: linear-gradient(
                to bottom, 
                var(--magenta),
                var(--naranja),
                var(--amarillo)
            );
            display: flex;
            align-items: center;
            gap: 40px;
            padding: 10px 20px;
            box-shadow: 2px 2px 5px #00000080;
        }

        .item-blog{
            cursor: pointer;
        }

        .item-blog:hover .container-dropdown-blog{
            display: block;
        }

        .item-blog:hover .icon-dropdown{
            transform: rotate(0deg)
        }

        .dropdown-blog > p{
            cursor: pointer;
        }

        .dropdown-blog > p a{
            color: var(--azul);
            text-decoration: none;
        }

        .dropdown-blog > p a:hover{
            text-decoration: underline;
        }

        .btn-login{
            background: var(--naranja);
            background: linear-gradient(
                to right,
                var(--amarillo),
                var(--naranja),
                var(--magenta)
            );
            color: var(--azul);
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            box-shadow: 3px 3px 10px #000000;
            font-size: 16px;
            cursor: pointer;
            transition: 0.3s scale;
        }
        .btn-login:hover{
            scale: 1.05;
        }
    }

    @keyframes show_dropdown_blog{
        from{
            opacity: 0;
        }
        to{
            opacity: 1;
        }
    }

    @keyframes show_dropdown_blog_mobile{
        from{
            height: 0;
        }
        to{
            height: 100px;
        }
    }
</style>

